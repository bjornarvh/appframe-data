## Note: Development for this project has barely started, so nothing is usable yet.

# appframe-data

Alternatives to the default Appframe Data Object that comes with AppframeWeb. Made to be able to use data sources outside Appframe articles (typically node.js development environments), with promises or use cases where you don't need all the functionality of the afDataObject and want a more lightweight version.

## Import static script

The `importStaticScript` method is a helper function to import data object options from the static scripts generated by appframe web. The method returns a collection of data object and procedure options that can be used to initialize other types of data objects/procedures later.

### Usage

The method takes the article id as the only parameter. The returned object has the methods `getDataObject` and `getProcedure` that can be used to get the options for a data object or procedure using the ID defined in the article.

```js
import { importStaticScript, SimpleDataObject } from '@olenbetong/appframe-data';

async function createDataObjects() {
	const dataOptions = await importStaticScript('demo-article-id');
	const options = dataOptions.getDataobject('dsMyDataObject');
	
	return new SimpleDataObject(options);
}
```

## Data Object Parameters

These are the common parameters that can be used when fetching data. They are the same as in the original data object:

* distinctRows
* filterObject
* filterString
* masterChildCriteria
* maxRecords
* sortOrder
* whereClause
* whereObject

## Data Object Types

### SimpleDataObject

A lightweight data object. Has methods for CRUD operations, but doesn't keep any state itself.

#### Methods

`async getData(DataObjectParameters)` - Gets data matching the data object parameters

`async create(Record)` - Attempts to create a record with the fields given in the Record parameter

`async update(Record)` - Attempts to update a record. The record parameter must contain the primary key (PrimKey) value for the record that should be updated.

`async delete(PrimKey)` - Attempts to delete a record with the given primary key.

### ReduxDataObject
